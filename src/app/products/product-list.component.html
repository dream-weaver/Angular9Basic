
<div class="card rounded-0">
    <div class="card-header">
        {{title}}
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-2">Filter by:
            </div>
            <div class="col-md-4">
              <input type='text'
              [(ngModel)]='listFilter' />
            </div>
            <div class="col-md-6">
              
            </div>
            <div class="col-md-6 text-secondary">
                <strong>Filtered by: <span class="text-primary">{{listFilter}}</span></strong>
            </div>
        </div>
        <div class='table-responsive'>
            <table class='table table-bordered table-striped table-sm' *ngIf = 'products && products.length'>
              <thead>
                <tr>
                  <th class='text-center'>
                    <button class='btn btn-primary btn-sm rounded-0'
                            (click) = 'toggleImage()'>{{showImage ? 'Hide' : 'Show' }} Image</button>
                  </th>
                  <th>Product</th>
                  <th>Code</th>
                  <th>Available</th>
                  <th>Price</th>
                  <th>5 Star Rating</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor = 'let product of filteredProducts'>
                  <td class='text-center'>
                    <img *ngIf = 'showImage'
                        [src]='product.imageUrl' 
                        [title]='product.productName' 
                        [alt]='product.productName' 
                        [class]='imgClass' 
                        [style.width.px]='imageWidth'
                        [style.margin.px] ='imageMargin'>

                    </td>
                  <td><a [routerLink]="['/products', product.productId]">{{product.productName}}</a></td>
                  <td>{{product.productCode | lowercase | convertToSpaces: '-'}}</td>
                  <td>{{product.releaseDate}}</td>
                  <td>{{product.price | currency : 'GBP'}} </td>
                  <td>
                    <pm-star [rating] = 'product.starRating'
                      (ratingClicked)='onRatingClicked($event)'></pm-star>
                </td>
                </tr>
              </tbody>
            </table>
          </div>
    </div>
</div>

